import { Meta, Story } from '@storybook/addon-docs';
import { ComponentHeader, TabContainer, CssVars } from 'storybook/blocks';

import { Row, Column } from '../';
import { version } from '../../package.json';
import Description from './Description.mdx';
import Props from './Props.mdx';
import Changelog from '../../CHANGELOG.md';
import styles from '!!raw-loader!../styles/column.module.css';

<Meta
  title="Components/Grid"
/>

export const RowTemplate = args => (
    <Row {...args}>
      {[...Array(12).keys()].map(i => {
        const isOdd = i % 2 === 0;
        return (
          <>
            <Column widths={[i + 1]}>
              <div style={{ padding: 8, color: 'white', background: 'red', height: '100%', textAlign: 'center', boxSizing: 'border-box', marginBottom: 8 }}>
                <strong>{i + 1}</strong><br />
              </div>
            </Column>
            {i !== 11 && (
              <Column widths={[11 - i]}>
                <div style={{ padding: 8, color: 'white', background: 'red', height: '100%', textAlign: 'center', boxSizing: 'border-box', marginBottom: 8 }}>
                  <strong>{11 - i}</strong><br />
                </div>
              </Column>
            )}
          </>
        )
      })}
    </Row>
);

export const ColumnTemplate = args => (
    <Row>
        <Column {...args}>
             <div style={{ padding: 8, color: 'white', background: 'black', height: '100%' }}>
                COLUMN
             </div>
        </Column>
    </Row>
);

<!-- Canvas -->

<Story
  name="Row"
  args={{
    justify: 'start',
    align: 'stretch',
    rowGap: 2,
    reverse: false
  }}
    argTypes={{
        justify: {
          control: { type: 'select', options: ['start', 'end', 'center', 'space-between', 'space-evenly', 'space-around'] }
        },
        align: {
          control: { type: 'select', options: ['start', 'end', 'center', 'stretch', 'baseline'] }
        },
        rowGap: {
          control: { type: 'select', options: [2, 4, 8, 12, 16, 20, 24, 28, 32, 36, 40, 44, 48, 56, 64] }
        }
      }}
>
  {RowTemplate.bind({})}
</Story>

<Story
  name="Column"
  args={{
    widths: [6],
    offset: [0]
  }}
  argTypes={{
    widths: { control: { type: 'object'}}
  }}
>
  {ColumnTemplate.bind({})}
</Story>

<!-- Docs -->

<ComponentHeader
  name="Grid"
  version={version}
  stage={1}
  design="https://www.figma.com/file/rrvkvQEoVTOHa7MzyKSaoz/OTP-Design-System?node-id=1370%3A39327"
/>

```tsx
import { Row, Column } from '@heycar-uikit/grid';
```

<TabContainer
    tabs={[
        {label: 'Description', component: <Description />},
        {label: 'Props', component: <Props />},
        {label: 'CSS tokens', component: <CssVars css={styles} />},
        {label: 'Changelog', component: <Changelog />}
    ]}
/>

